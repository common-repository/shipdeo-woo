!function(e){"use strict";function n(n,t){var a,o,c,u;"ID"==t?(function n(t){e('[name="'+t+'_address_2"]').autocomplete({autoFocus:!0,delay:350,minLength:1,source:function(n,t){e.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"get_subdistricts_by_name",name:n.term},success:function(e){t(e.map(function(e){return{label:[e.subdistrict_name,e.city_name,e.province_name,].join(", "),value:e.subdistrict_name,data:e}}))}})},select:function(n,a){e(document.body).trigger("address_2_changed",{module:t,value:a.item.data})}})}(n),function n(t){e('[name="'+t+'_city"]').autocomplete({autoFocus:!0,delay:350,minLength:1,source:function(n,t){e.ajax({url:ajaxurl,dataType:"json",method:"post",data:{action:"get_cities_by_name",name:n.term},success:function(e){t(e.map(function(e){return{label:e.city_name,value:e.city_name}}))}})}})}(n)):((o=e('[name="'+(a=n)+'_address_2"]')).autocomplete("instance")&&o.autocomplete("destroy"),(u=e('[name="'+(c=n)+'_city"]')).autocomplete("instance")&&u.autocomplete("destroy"))}function t(n,t){e('[name="'+n+'_city"]').val(t)}function a(n,t){e('[name="'+n+'_state"]').val(t).trigger("change")}e('[name$="_country"]').on("change",function n(t){var a=String(e(this).attr("name")).replace("_country","");e(document.body).trigger("country_changed",{module:a,value:t.target.value})}),e('[name$="_state"]').on("select2:opening",function n(){return!e(this).is("[readonly]")}),e(document.body).on("country_changed",function o(c,u){var i=u.module,r=u.value;(function n(t,a){e('[name="'+t+'_address_2"]').val(null)})(i,null),t(i,null),a(i,null),n(i,r)}),e(document.body).on("address_2_changed",function n(o,c){var u=c.module,i=c.value;t(u,i.city_name),a(u,i.province_id),e(document.body).trigger("update_checkout")}),e('[name$="_country"]').toArray().forEach(function(t){var a,o=e(t);n(String(o.attr("name")).replace("_country",""),o.val())})}(jQuery);